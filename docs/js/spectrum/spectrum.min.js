// Spectrum Colorpicker v1.8.0
// https://github.com/bgrins/spectrum
// Author: Brian Grinstead
// License: MIT
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";function l(e,r,a,i){for(var s=[],o=0;o<e.length;o++){var l=e[o];if(l){var f=tinycolor(l),c=f.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(r,l)?" sp-thumb-active":"";var u=f.toString(i.preferredFormat||"rgb"),h=n?"background-color:"+f.toRgbString():"filter:"+f.toFilter();s.push('<span title="'+u+'" data-color="'+f.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+a+"'>"+s.join("")+"</div>"}function f(){for(var t=0;t<a.length;t++)a[t]&&a[t].hide()}function c(e,a){var i=t.extend({},r,e);return i.callbacks={move:g(i.move,a),change:g(i.change,a),show:g(i.show,a),hide:g(i.hide,a),beforeShow:g(i.beforeShow,a)},i}function u(r,u){function ke(){if(d.showPaletteOnly&&(d.showPalette=!0),ce.text(d.showPaletteOnly?d.togglePaletteMoreText:d.togglePaletteLessText),d.palette){D=d.palette.slice(0),I=t.isArray(D[0])?D:[D],z={};for(var e=0;e<I.length;e++)for(var r=0;r<I[e].length;r++){var a=tinycolor(I[e][r]).toRgbString();z[a]=!0}}G.toggleClass("sp-flat",g),G.toggleClass("sp-input-disabled",!d.showInput),G.toggleClass("sp-alpha-enabled",d.showAlpha),G.toggleClass("sp-clear-enabled",xe),G.toggleClass("sp-buttons-disabled",!d.showButtons),G.toggleClass("sp-palette-buttons-disabled",!d.togglePaletteOnly),G.toggleClass("sp-palette-disabled",!d.showPalette),G.toggleClass("sp-palette-only",d.showPaletteOnly),G.toggleClass("sp-initial-disabled",!d.showInitial),G.addClass(d.className).addClass(d.containerClassName),We()}function Se(){function r(e){return e.data&&e.data.ignore?(Ie(t(e.target).closest(".sp-thumb-el").data("color")),Le()):(Ie(t(e.target).closest(".sp-thumb-el").data("color")),Le(),$e(!0),d.hideAfterPaletteSelect&&Ee()),!1}if(i&&G.find("*:not(input)").attr("unselectable","on"),ke(),de&&X.after(pe).hide(),xe||le.hide(),g)X.after(G).hide();else{var e="parent"===d.appendTo?X.parent():t(d.appendTo);1!==e.length&&(e=t("body")),e.append(G)}Ce(),ge.bind("click.spectrum touchstart.spectrum",function(e){Y||Oe(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(X.is(":disabled")||d.disabled===!0)&&Qe(),G.click(p),ie.change(Te),ie.bind("paste",function(){setTimeout(Te,1)}),ie.keydown(function(t){13==t.keyCode&&Te()}),oe.text(d.cancelText),oe.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),De(),Ee()}),le.attr("title",d.clearText),le.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),_e=!0,Le(),g&&$e(!0)}),fe.text(d.chooseText),fe.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),i&&ie.is(":focus")&&ie.trigger("change"),Be()&&($e(!0),Ee())}),ce.text(d.showPaletteOnly?d.togglePaletteMoreText:d.togglePaletteLessText),ce.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),d.showPaletteOnly=!d.showPaletteOnly,d.showPaletteOnly||g||G.css("left","-="+(Q.outerWidth(!0)+5)),ke()}),v(re,function(t,e,r){E=t/F,_e=!1,r.shiftKey&&(E=Math.round(10*E)/10),Le()},He,Fe),v(Z,function(t,e){q=parseFloat(e/R),_e=!1,d.showAlpha||(E=1),Le()},He,Fe),v(J,function(t,e,r){if(r.shiftKey){if(!V){var a=N*P,i=A-j*A,n=Math.abs(t-a)>Math.abs(e-i);V=n?"x":"y"}}else V=null;var s=!V||"x"===V,o=!V||"y"===V;s&&(N=parseFloat(t/P)),o&&(j=parseFloat((A-e)/A)),_e=!1,d.showAlpha||(E=1),Le()},He,Fe),be?(Ie(be),Ke(),ye=d.preferredFormat||tinycolor(be).format,Pe(be)):Ke(),g&&qe();var a=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ne.delegate(".sp-thumb-el",a,r),se.delegate(".sp-thumb-el:nth-child(1)",a,{ignore:!0},r)}function Ce(){if(w&&window.localStorage){try{var e=window.localStorage[w].split(",#");e.length>1&&(delete window.localStorage[w],t.each(e,function(t,e){Pe(e)}))}catch(r){}try{B=window.localStorage[w].split(";")}catch(r){}}}function Pe(e){if(y){var r=tinycolor(e).toRgbString();if(!z[r]&&-1===t.inArray(r,B))for(B.push(r);B.length>L;)B.shift();if(w&&window.localStorage)try{window.localStorage[w]=B.join(";")}catch(a){}}}function Ae(){var t=[];if(d.showPalette)for(var e=0;e<B.length;e++){var r=tinycolor(B[e]).toRgbString();z[r]||t.push(B[e])}return t.reverse().slice(0,d.maxSelectionSize)}function Me(){var e=ze(),r=t.map(I,function(t,r){return l(t,e,"sp-palette-row sp-palette-row-"+r,d)});Ce(),B&&r.push(l(Ae(),e,"sp-palette-row sp-palette-row-selection",d)),ne.html(r.join(""))}function Re(){if(d.showInitial){var t=me,e=ze();se.html(l([t,e],e,"sp-palette-row-initial",d))}}function He(){(0>=A||0>=P||0>=R)&&We(),C=!0,G.addClass(K),V=null,X.trigger("dragstart.spectrum",[ze()])}function Fe(){C=!1,G.removeClass(K),X.trigger("dragstop.spectrum",[ze()])}function Te(){var t=ie.val();if(null!==t&&""!==t||!xe){var e=tinycolor(t);e.isValid()?(Ie(e),$e(!0)):ie.addClass("sp-validation-error")}else Ie(null),$e(!0)}function Oe(){S?Ee():qe()}function qe(){var e=t.Event("beforeShow.spectrum");return S?void We():(X.trigger(e,[ze()]),void(x.beforeShow(ze())===!1||e.isDefaultPrevented()||(f(),S=!0,t($).bind("keydown.spectrum",Ne),t($).bind("click.spectrum",je),t(window).bind("resize.spectrum",k),pe.addClass("sp-active"),G.removeClass("sp-hidden"),We(),Ke(),me=ze(),Re(),x.show(me),X.trigger("show.spectrum",[me]))))}function Ne(t){27===t.keyCode&&Ee()}function je(t){2!=t.button&&(C||(we?$e(!0):De(),Ee()))}function Ee(){S&&!g&&(S=!1,t($).unbind("keydown.spectrum",Ne),t($).unbind("click.spectrum",je),t(window).unbind("resize.spectrum",k),pe.removeClass("sp-active"),G.addClass("sp-hidden"),x.hide(ze()),X.trigger("hide.spectrum",[ze()]))}function De(){Ie(me,!0)}function Ie(t,e){if(tinycolor.equals(t,ze()))return void Ke();var r,a;!t&&xe?_e=!0:(_e=!1,r=tinycolor(t),a=r.toHsv(),q=a.h%360/360,N=a.s,j=a.v,E=a.a),Ke(),r&&r.isValid()&&!e&&(ye=d.preferredFormat||r.getFormat())}function ze(t){return t=t||{},xe&&_e?null:tinycolor.fromRatio({h:q,s:N,v:j,a:Math.round(100*E)/100},{format:t.format||ye})}function Be(){return!ie.hasClass("sp-validation-error")}function Le(){Ke(),x.move(ze()),X.trigger("move.spectrum",[ze()])}function Ke(){ie.removeClass("sp-validation-error"),Ve();var t=tinycolor.fromRatio({h:q,s:1,v:1});J.css("background-color",t.toHexString());var e=ye;1>E&&(0!==E||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var r=ze({format:e}),a="";if(ve.removeClass("sp-clear-display"),ve.css("background-color","transparent"),!r&&xe)ve.addClass("sp-clear-display");else{var s=r.toHexString(),o=r.toRgbString();if(n||1===r.alpha?ve.css("background-color",o):(ve.css("background-color","transparent"),ve.css("filter",r.toFilter())),d.showAlpha){var l=r.toRgb();l.a=0;var f=tinycolor(l).toRgbString(),c="linear-gradient(left, "+f+", "+s+")";i?ee.css("filter",tinycolor(f).toFilter({gradientType:1},s)):(ee.css("background","-webkit-"+c),ee.css("background","-moz-"+c),ee.css("background","-ms-"+c),ee.css("background","linear-gradient(to right, "+f+", "+s+")"))}a=r.toString(e)}d.showInput&&ie.val(a),d.showPalette&&Me(),Re()}function Ve(){var t=N,e=j;if(xe&&_e)ae.hide(),te.hide(),U.hide();else{ae.show(),te.show(),U.show();var r=t*P,a=A-e*A;r=Math.max(-M,Math.min(P-M,r-M)),a=Math.max(-M,Math.min(A-M,a-M)),U.css({top:a+"px",left:r+"px"});var i=E*F;ae.css({left:i-T/2+"px"});var n=q*R;te.css({top:n-O+"px"})}}function $e(t){var e=ze(),r="",a=!tinycolor.equals(e,me);e&&(r=e.toString(ye),Pe(e)),ue&&X.val(r),t&&a&&(x.change(e),X.trigger("change",[e]))}function We(){S&&(P=J.width(),A=J.height(),M=U.height(),H=Z.width(),R=Z.height(),O=te.height(),F=re.width(),T=ae.width(),g||(G.css("position","absolute"),G.offset(d.offset?d.offset:h(G,ge))),Ve(),d.showPalette&&Me(),X.trigger("reflow.spectrum"))}function Xe(){X.show(),ge.unbind("click.spectrum touchstart.spectrum"),G.remove(),pe.remove(),a[Ue.id]=null}function Ye(r,a){return r===e?t.extend({},d):a===e?d[r]:(d[r]=a,"preferredFormat"===r&&(ye=d.preferredFormat),void ke())}function Ge(){Y=!1,X.attr("disabled",!1),ge.removeClass("sp-disabled")}function Qe(){Ee(),Y=!0,X.attr("disabled",!0),ge.addClass("sp-disabled")}function Je(t){d.offset=t,We()}var d=c(u,r),g=d.flat,y=d.showSelectionPalette,w=d.localStorageKey,_=d.theme,x=d.callbacks,k=b(We,10),S=!1,C=!1,P=0,A=0,M=0,R=0,H=0,F=0,T=0,O=0,q=0,N=0,j=0,E=1,D=[],I=[],z={},B=d.selectionPalette.slice(0),L=d.maxSelectionSize,K="sp-dragging",V=null,$=r.ownerDocument,X=($.body,t(r)),Y=!1,G=t(o,$).addClass(_),Q=G.find(".sp-picker-container"),J=G.find(".sp-color"),U=G.find(".sp-dragger"),Z=G.find(".sp-hue"),te=G.find(".sp-slider"),ee=G.find(".sp-alpha-inner"),re=G.find(".sp-alpha"),ae=G.find(".sp-alpha-handle"),ie=G.find(".sp-input"),ne=G.find(".sp-palette"),se=G.find(".sp-initial"),oe=G.find(".sp-cancel"),le=G.find(".sp-clear"),fe=G.find(".sp-choose"),ce=G.find(".sp-palette-toggle"),ue=X.is("input"),he=ue&&"color"===X.attr("type")&&m(),de=ue&&!g,pe=de?t(s).addClass(_).addClass(d.className).addClass(d.replacerClassName):t([]),ge=de?pe:X,ve=pe.find(".sp-preview-inner"),be=d.color||ue&&X.val(),me=!1,ye=d.preferredFormat,we=!d.showButtons||d.clickoutFiresChange,_e=!be,xe=d.allowEmpty&&!he;Se();var Ue={show:qe,hide:Ee,toggle:Oe,reflow:We,option:Ye,enable:Ge,disable:Qe,offset:Je,set:function(t){Ie(t),$e()},get:ze,destroy:Xe,container:G};return Ue.id=a.push(Ue)-1,Ue}function h(e,r){var a=0,i=e.outerWidth(),n=e.outerHeight(),s=r.outerHeight(),o=e[0].ownerDocument,l=o.documentElement,f=l.clientWidth+t(o).scrollLeft(),c=l.clientHeight+t(o).scrollTop(),u=r.offset();return u.top+=s,u.left-=Math.min(u.left,u.left+i>f&&f>i?Math.abs(u.left+i-f):0),u.top-=Math.min(u.top,u.top+n>c&&c>n?Math.abs(n+s-a):a),u}function d(){}function p(t){t.stopPropagation()}function g(t,e){var r=Array.prototype.slice,a=r.call(arguments,2);return function(){return t.apply(e,a.concat(r.call(arguments)))}}function v(e,r,a,n){function d(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function p(t){if(o){if(i&&s.documentMode<9&&!t.button)return v();var a=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=a&&a.pageX||t.pageX,h=a&&a.pageY||t.pageY,p=Math.max(0,Math.min(n-l.left,c)),g=Math.max(0,Math.min(h-l.top,f));u&&d(t),r.apply(e,[p,g,t])}}function g(r){var i=r.which?3==r.which:2==r.button;i||o||a.apply(e,arguments)!==!1&&(o=!0,f=t(e).height(),c=t(e).width(),l=t(e).offset(),t(s).bind(h),t(s.body).addClass("sp-dragging"),p(r),d(r))}function v(){o&&(t(s).unbind(h),t(s.body).removeClass("sp-dragging"),setTimeout(function(){n.apply(e,arguments)},0)),o=!1}r=r||function(){},a=a||function(){},n=n||function(){};var s=document,o=!1,l={},f=0,c=0,u="ontouchstart"in window,h={};h.selectstart=d,h.dragstart=d,h["touchmove mousemove"]=p,h["touchend mouseup"]=v,t(e).bind("touchstart mousedown",g)}function b(t,e,r){var a;return function(){var i=this,n=arguments,s=function(){a=null,t.apply(i,n)};r&&clearTimeout(a),(r||!a)&&(a=setTimeout(s,e))}}function m(){return t.fn.spectrum.inputTypeColorSupport()}var r={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},a=[],i=!!/msie/i.exec(window.navigator.userAgent),n=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),r=e.style;return r.cssText="background-color:rgba(0,0,0,.5)",t(r.backgroundColor,"rgba")||t(r.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),o=function(){var t="";if(i)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var i=this,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=a[t(this).data(y)];if(r){var s=r[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?i=r.get():"container"==e?i=r.container:"option"==e?i=r.option.apply(r,n):"destroy"==e?(r.destroy(),t(this).removeData(y)):s.apply(r,n)}}),i}return this.spectrum("destroy").each(function(){var r=t.extend({},e,t(this).data()),a=u(this,r);t(this).data(y,a.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=v,t.fn.spectrum.defaults=r,t.fn.spectrum.inputTypeColorSupport=function w(){if("undefined"==typeof w._cachedResult){var e=t("<input type='color'/>")[0];w._cachedResult="color"===e.type&&""!==e.value}return w._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!m()&&e.spectrum({preferredFormat:"hex6"})},function(){function f(t){var e={r:0,g:0,b:0},r=1,a=!1,i=!1;return"string"==typeof t&&(t=V(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=c(t.r,t.g,t.b),a=!0,i="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=z(t.s),t.v=z(t.v),e=p(t.h,t.s,t.v),a=!0,i="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=z(t.s),t.l=z(t.l),e=h(t.h,t.s,t.l),a=!0,i="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=O(r),{ok:a,format:t.format||i,r:n(255,s(e.r,0)),g:n(255,s(e.g,0)),b:n(255,s(e.b,0)),a:r}}function c(t,e,r){return{r:255*q(t,255),g:255*q(e,255),b:255*q(r,255)}}function u(t,e,r){t=q(t,255),e=q(e,255),r=q(r,255);var o,l,a=s(t,e,r),i=n(t,e,r),f=(a+i)/2;if(a==i)o=l=0;else{var c=a-i;switch(l=f>.5?c/(2-a-i):c/(a+i),a){case t:o=(e-r)/c+(r>e?6:0);break;case e:o=(r-t)/c+2;break;case r:o=(t-e)/c+4}o/=6}return{h:o,s:l,l:f}}function h(t,e,r){function s(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t}var a,i,n;if(t=q(t,360),e=q(e,100),r=q(r,100),0===e)a=i=n=r;else{var o=.5>r?r*(1+e):r+e-r*e,l=2*r-o;a=s(l,o,t+1/3),i=s(l,o,t),n=s(l,o,t-1/3)}return{r:255*a,g:255*i,b:255*n}}function d(t,e,r){t=q(t,255),e=q(e,255),r=q(r,255);var o,l,a=s(t,e,r),i=n(t,e,r),f=a,c=a-i;if(l=0===a?0:c/a,a==i)o=0;else{switch(a){case t:o=(e-r)/c+(r>e?6:0);break;case e:o=(r-t)/c+2;break;case r:o=(t-e)/c+4}o/=6}return{h:o,s:l,v:f}}function p(t,e,r){t=6*q(t,360),e=q(e,100),r=q(r,100);var i=a.floor(t),n=t-i,s=r*(1-e),o=r*(1-n*e),l=r*(1-(1-n)*e),f=i%6,c=[r,o,s,s,l,r][f],u=[l,r,r,o,s,s][f],h=[s,s,l,r,r,o][f];return{r:255*c,g:255*u,b:255*h}}function g(t,e,r,a){var n=[I(i(t).toString(16)),I(i(e).toString(16)),I(i(r).toString(16))];return a&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function v(t,e,r,a){var n=[I(B(a)),I(i(t).toString(16)),I(i(e).toString(16)),I(i(r).toString(16))];return n.join("")}function b(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.s-=e/100,r.s=N(r.s),l(r)}function m(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.s+=e/100,r.s=N(r.s),l(r)}function y(t){return l(t).desaturate(100)}function w(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.l+=e/100,r.l=N(r.l),l(r)}function _(t,e){e=0===e?0:e||10;var r=l(t).toRgb();return r.r=s(0,n(255,r.r-i(255*-(e/100)))),r.g=s(0,n(255,r.g-i(255*-(e/100)))),r.b=s(0,n(255,r.b-i(255*-(e/100)))),l(r)}function x(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.l-=e/100,r.l=N(r.l),l(r)}function k(t,e){var r=l(t).toHsl(),a=(i(r.h)+e)%360;return r.h=0>a?360+a:a,l(r)}function S(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function C(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+120)%360,s:e.s,l:e.l}),l({h:(r+240)%360,s:e.s,l:e.l})]}function P(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+90)%360,s:e.s,l:e.l}),l({h:(r+180)%360,s:e.s,l:e.l}),l({h:(r+270)%360,s:e.s,l:e.l})]}function A(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+72)%360,s:e.s,l:e.l}),l({h:(r+216)%360,s:e.s,l:e.l})]}function M(t,e,r){e=e||6,r=r||30;var a=l(t).toHsl(),i=360/r,n=[l(t)];for(a.h=(a.h-(i*e>>1)+720)%360;--e;)a.h=(a.h+i)%360,n.push(l(a));return n}function R(t,e){e=e||6;for(var r=l(t).toHsv(),a=r.h,i=r.s,n=r.v,s=[],o=1/e;e--;)s.push(l({h:a,s:i,v:n})),n=(n+o)%1;return s}function T(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function O(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function q(t,e){E(t)&&(t="100%");var r=D(t);return t=n(e,s(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),a.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function N(t){return n(1,s(0,t))}function j(t){return parseInt(t,16)}function E(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function D(t){return"string"==typeof t&&-1!=t.indexOf("%")}function I(t){return 1==t.length?"0"+t:""+t}function z(t){return 1>=t&&(t=100*t+"%"),t}function B(t){return Math.round(255*parseFloat(t)).toString(16)}function L(t){return j(t)/255}function V(r){r=r.replace(t,"").replace(e,"").toLowerCase();var a=!1;if(H[r])r=H[r],a=!0;else if("transparent"==r)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=K.rgb.exec(r))?{r:i[1],g:i[2],b:i[3]}:(i=K.rgba.exec(r))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=K.hsl.exec(r))?{h:i[1],s:i[2],l:i[3]}:(i=K.hsla.exec(r))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=K.hsv.exec(r))?{h:i[1],s:i[2],v:i[3]}:(i=K.hsva.exec(r))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=K.hex8.exec(r))?{a:L(i[1]),r:j(i[2]),g:j(i[3]),b:j(i[4]),format:a?"name":"hex8"}:(i=K.hex6.exec(r))?{r:j(i[1]),g:j(i[2]),b:j(i[3]),format:a?"name":"hex"}:(i=K.hex3.exec(r))?{r:j(i[1]+""+i[1]),g:j(i[2]+""+i[2]),b:j(i[3]+""+i[3]),format:a?"name":"hex"}:!1}var t=/^[\s,#]+/,e=/\s+$/,r=0,a=Math,i=a.round,n=a.min,s=a.max,o=a.random,l=function(t,e){if(t=t?t:"",e=e||{},t instanceof l)return t;if(!(this instanceof l))return new l(t,e);var a=f(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=i(100*this._a)/100,this._format=e.format||a.format,this._gradientType=e.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=a.ok,this._tc_id=r++};l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=O(t),this._roundA=i(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=i(360*t.h),r=i(100*t.s),a=i(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+a+"%)":"hsva("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=i(360*t.h),r=i(100*t.s),a=i(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+a+"%)":"hsla("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return v(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*q(this._r,255))+"%",g:i(100*q(this._g,255))+"%",b:i(100*q(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*q(this._r,255))+"%, "+i(100*q(this._g,255))+"%, "+i(100*q(this._b,255))+"%)":"rgba("+i(100*q(this._r,255))+"%, "+i(100*q(this._g,255))+"%, "+i(100*q(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:F[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+v(this._r,this._g,this._b,this._a),r=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);r=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!e&&a&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:z(t[a]));t=r}return l(t,e)},l.equals=function(t,e){return t&&e?l(t).toRgbString()==l(e).toRgbString():!1},l.random=function(){return l.fromRatio({r:o(),g:o(),b:o()})},l.mix=function(t,e,r){r=0===r?0:r||50;var f,a=l(t).toRgb(),i=l(e).toRgb(),n=r/100,s=2*n-1,o=i.a-a.a;f=s*o==-1?s:(s+o)/(1+s*o),f=(f+1)/2;var c=1-f,u={r:i.r*f+a.r*c,g:i.g*f+a.g*c,b:i.b*f+a.b*c,a:i.a*n+a.a*(1-n)};return l(u)},l.readability=function(t,e){var r=l(t),a=l(e),i=r.toRgb(),n=a.toRgb(),s=r.getBrightness(),o=a.getBrightness(),f=Math.max(i.r,n.r)-Math.min(i.r,n.r)+Math.max(i.g,n.g)-Math.min(i.g,n.g)+Math.max(i.b,n.b)-Math.min(i.b,n.b);return{brightness:Math.abs(s-o),color:f}},l.isReadable=function(t,e){var r=l.readability(t,e);return r.brightness>125&&r.color>500},l.mostReadable=function(t,e){for(var r=null,a=0,i=!1,n=0;n<e.length;n++){var s=l.readability(t,e[n]),o=s.brightness>125&&s.color>500,f=3*(s.brightness/125)+s.color/500;(o&&!i||o&&i&&f>a||!o&&!i&&f>a)&&(i=o,a=f,r=l(e[n]))}return r};var H=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=l.hexNames=T(H),K=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=l}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})});
